/* FUNCIÓN PARA LISTAR PUBLICACIONES SCROLL INFINITO... */
// Escuchamos el documento y activamos la función
var route_notifications_ajax = '';

$(document).ready(function () {
  /*
   * Usando alert("USERS"); sabremos si hemos
   * cargado el jquery de la librería más el propio
   */
   var ias = jQuery.ias({
        //el contenedor que contiene el listado es clase .box-content dentro de un id .time-line
        container: '#notifications .box-content',
        item: '.notification-item',//item a paginar
        pagination: '#notifications .pagination',// esta clase contiene los controles de navegación
        next: '#notifications .pagination .next_link',
        triggerPageThreshold: 5// cada cuantos elementos mostrará la siguiente página
    });

   ias.extension(new IASTriggerExtension({
    text: 'Ver más notificaciones',
    offset: 3
}));

   ias.extension(new IASSpinnerExtension({
    src: '/node_modules/images/ajax-loader.gif' 
}));

   ias.extension(new IASNoneLeftExtension({
    text: 'No hay más notificaciones'
}));

   ias.on('ready', function(event) {

   });

   ias.on('rendered', function(event) {

   });

});

function notifications() {
    /* FUNCIÓN AJAX NOTIFICACIONES GENERALES...********************/
    $.ajax({
        url: route_notifications_ajax,
        type: 'GET',
        success: function (response) {
// incluimos dentro de la etiqueta html con clase ".label-notifications" el contenido de response
$(".label-notifications").html(response);
      // Colocamos / Quitamosla clase 'hidden' según response
      if(response == 0 ) {
        $(".label-notifications").addClass("hidden");
    } else {
        $(".label-notifications").removeClass("hidden");
    }
}
});

}
